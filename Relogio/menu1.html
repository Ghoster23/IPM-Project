<!DOCTYPE html>
<html>

  <head>
    <title> Menu 1</title>
    <link rel="stylesheet" href="stylemenu1.css">
  </head>

  <body>
    <div id="clock">
        <!-- Dark Background -->
        <div id="backgroundcircle"></div>
        <div class="menu1" onscroll="updateprogress()">
            <table id="table1">
                <!-- Health App -->
                <tr>    
                    <th>
                        <a href="healthapp.html">
                            <img src="rsz_health_app.png" height="100px" draggable="false">
                        </a>
                        <figcaption class="appsubtitle"> Saúde </figcaption>
                    </th>
                </tr>

                <!-- Health App -->
                <tr>
                    <th>
                        <a href="https://en.wikipedia.org/wiki/Messages">
                            <img src="rsz_messaging_app.png" height="100px" draggable="false">
                        </a>
                        <figcaption class="appsubtitle"> Mensagens </figcaption>
                    </th>
                </tr>

                <!-- Location App -->
                <tr>
                    <th>
                        <a href="https://en.wikipedia.org/wiki/Location">
                            <img src="rsz_location_app.png" height="100px" draggable="false">
                        </a>
                        <figcaption class="appsubtitle"> Navegação </figcaption>
                    </th>
                </tr>
            </table>
        </div>

        <!-- Back Button -->
        <a href="relogio.html">
            <img src="back.png" id="back" on>
        </a>

        <!-- Progress Circles -->
        <img src="progress2.png" id="progresscircles" on>

        <!-- Bezzle -->
        <img src="bezel.png" id="bezel">  
    </div>
    
<!-- Functions for the scrolling -->
<script>

    const slider = document.querySelector('.menu1')
    let isDown = false;
    let startY = 0;
    let scrollTop;
    slider.scrollTop = 165;
  
    slider.addEventListener('mousedown', (e) => {
  	isDown = true;
    slider.classList.add('active');
    startY = e.pageY - slider.offsetTop;
    scrollTop = slider.scrollTop;
  
    });
  
    slider.addEventListener('mouseleave', () => {
        isDown = false;
        slider.classList.remove('active');
    });
    
    slider.addEventListener('mouseup', () => {
        isDown = false;
        slider.classList.remove('active');
        
        /*if(slider.scrollTop >= 40 && slider.scrollTop <= 140){
            pan2app(90);
        }*/
    });
    
    slider.addEventListener('mousemove', (e) => {
        if(!isDown) return;
        e.preventDefault();
        const y = e.pageY - slider.offsetTop; 
        const walk = y - startY;
        slider.scrollTop = scrollTop - walk;
        console.log(slider.scrollTop);
        
    });

    function updateprogress(){
        if(slider.scrollTop<=80){
            document.getElementById("progresscircles").src="progress1.png";
        }
        if(slider.scrollTop>80 && slider.scrollTop<=240){
            document.getElementById("progresscircles").src="progress2.png";
        }
        if(slider.scrollTop>240){
            document.getElementById("progresscircles").src="progress3.png";
        }
    }

</script>

  </body>

</html>