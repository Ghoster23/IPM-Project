<!DOCTYPE html>
<html>
    <head>
        <title>Sa&uacute;de</title>
        <link rel="stylesheet" href="../../style (Watch).css">
        <link rel="stylesheet" href="../style (Menu).css">
        <link rel="stylesheet" href="style (Health App).css">
    </head>

    <body>
        <a href="../../../index.html">
            <img id="Back_Arrow" src="../../../Images/Arrow.jpg">
        </a>    

        <div id="Clock">
            <!-- Dark Background -->
            <div id="Touch_Screen">
                <div class="menu" onscroll="updateProgress()">
                    <table id="Table">
                        <!-- Alcool Test -->
                        <tr>    
                            <th>
                                <a href="Health App Test.html" onclick="saveTestInfo('#26B6A0', 1)">
                                    <img class="iconApp" draggable="false" src="Images/Alcool Test Icon.png">
                                </a>
                                <figcaption class="appSubtitle"> Teste de<br>Alcoolemia </figcaption>
                            </th>
                        </tr>
    
                        <!-- Blood Pressure Test -->
                        <tr>
                            <th>
                                <a href="Health App Test.html" onclick="saveTestInfo('#3E67B1', 2)">
                                    <img class="iconApp" draggable="false" src="Images/Blood Pressure Test Icon.png">
                                </a>
                                <figcaption class="appSubtitle"> Press&atilde;o <br>Arterial </figcaption>
                            </th>
                        </tr>
    
                        <!-- Drug Test -->
                        <tr>
                            <th>
                                <a href="Health App Test.html" onclick="saveTestInfo('#462A72', 3)">
                                    <img class="iconApp" draggable="false" src="Images/Drug Test Icon.png">
                                </a>
                                <figcaption class="appSubtitle"> Teste de<br>Narc&oacute;ticos </figcaption>
                            </th>
                        </tr>
    
                        <!-- Heart Rate Test -->
                        <tr>
                            <th>
                                <a href="Health App Test.html" onclick="saveTestInfo('#F05686', 4)">
                                    <img class="iconApp" draggable="false" src="Images/Heart Rate Test Icon.png">
                                </a>
                                <figcaption class="appSubtitle"> Ritmo<br>Card&iacute;aco </figcaption>
                            </th>
                        </tr>
    
                        <!-- Blood Sugar Test -->
                        <tr>
                            <th>
                                <a href="Health App Test.html" onclick="saveTestInfo('#DE1F26', 5)">
                                    <img class="iconApp" draggable="false" src="Images/Blood Sugar Test Icon.png">
                                </a>
                                <figcaption class="appSubtitle"> Teste de<br>Glic&eacute;mia </figcaption>
                            </th>
                        </tr>
                    </table>
                </div>

                <!-- Back Button -->
                <a href="../Menu.html">
                    <img id="Back" src="../Images/back.png">
                </a>

                <!-- Progress Circles -->
                <img id="Progress_Circles_Health" src="Images/progress3.png">
            </div>

            <!-- Bezle -->
            <img id="Bezel" src="../../Images/Bezel.png">

            <!-- Button -->
            <a href="../../Watch.html">
                <div id="Button"></div>
            </a>
        </div>
        
        <!-- Functions for the scrolling -->
        <script>
            function saveTestInfo(a, b){
                localStorage.setItem("color", a);
                localStorage.setItem("testtype", b);
            }

            const slider = document.querySelector(".menu")
            let isDown   = false;
            let startY   = 0;
            let scrollTop;

            slider.scrollTop = 372;
        
            slider.addEventListener("mousedown", (e) => {
                isDown = true;
                slider.classList.add("active");
                startY    = e.pageY - slider.offsetTop;
                scrollTop = slider.scrollTop;
            });
        
            slider.addEventListener("mouseleave", () => {
                isDown = false;
                slider.classList.remove("active");
            });
            
            slider.addEventListener("mouseup", () => {
                isDown = false;
                slider.classList.remove("active");
            });
            
            slider.addEventListener("mousemove", (e) => {
                if (!isDown) return;
                e.preventDefault();
                const y          = e.pageY - slider.offsetTop; 
                const walk       = y - startY;
                slider.scrollTop = scrollTop - walk;
                console.log(slider.scrollTop);
            });

            function updateProgress() {
                if (slider.scrollTop <= 80) {
                    document.getElementById("Progress_Circles_Health").src = "Images/progress1.png";
                }
                if (slider.scrollTop > 96 && slider.scrollTop <= 276) {
                    document.getElementById("Progress_Circles_Health").src = "Images/progress2.png";
                }
                if (slider.scrollTop > 276 && slider.scrollTop <= 450) {
                    document.getElementById("Progress_Circles_Health").src = "Images/progress3.png";
                }
                if (slider.scrollTop > 450 && slider.scrollTop <= 650) {
                    document.getElementById("Progress_Circles_Health").src = "Images/progress4.png";
                }
                if (slider.scrollTop > 650) {
                    document.getElementById("Progress_Circles_Health").src = "Images/progress5.png";
                }
            }
        </script>

    </body>
</html>